<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
      integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog=="
      crossorigin="anonymous"
    />
    <title>Catch the Insect</title>

    <style>
      @import url("https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap");
      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Press start 2P", sans-serif;
        height: 100vh;
        margin: 0;
        overflow: hidden;
        text-align: center;
        background-color: salmon;
      }

      .btn {
        border: 0;
        background-color: white;
        color: salmon;
        font-size: 2rem;
        padding: 14px 20px;
        font-family: inherit;
        cursor: pointer;
      }

      .btn:hover {
        opacity: 0.9;
      }

      .screen {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        width: 100vw;
        transition: margin 0.5s ease-in-out;
      }

      .screen.up {
        margin-top: -100vh;
      }

      .choose-insect-btn img {
        width: 100px;
        height: 100px;
        margin: 10px;
        object-fit: contain;
      }

      a {
        color: white;
      }

      h1 {
        line-height: 1.4;
        color: black;
      }

      .insects-list {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        list-style-type: none;
        padding: 0;
      }

      .insects-list li {
        margin: 10px;
      }

      .choose-insect-btn {
        background-color: transparent;
        border: 2px solid black;
        color: black;
        font-family: inherit;
        width: 150px;
        height: 150px;
        cursor: pointer;
      }

      .choose-insect-btn:hover {
        background-color: burlywood;
        color: red;
      }

      .choose-insect-btn:active {
        background-color: salmon;
      }

      .game-container {
        position: relative;
      }

      .time,
      .score {
        position: absolute;
        top: 20px;
      }

      .time {
        left: 20px;
      }

      .score {
        right: 20px;
      }

      .message {
        line-height: 1.7;
        background-color: white;
        width: 100%;
        padding: 20px;
        z-index: 100;
        text-align: center;
        opacity: 0;
        position: absolute;
        top: 0;
        left: 50%;
        transform: translate(-50%, -150%);
        transition: transform 0.5s, opacity 0.5s;
      }

      .message.visible {
        opacity: 1;
        transform: translate(-50%, 150%);
      }

      .insect {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100px;
        width: 100px;
        position: absolute;
        cursor: pointer;
        transform: translate(-50%, -50%) scale(1);
        transition: transform 0.3s ease-in-out;
      }

      .insect.caught {
        transform: translate(-50%, -50%) scale(0);
      }

      .insect img {
        width: 100px;
        height: 100px;
      }
    </style>
  </head>

  <body>
    <div class="screen">
      <h1>Catch The Insect</h1>
      <button class="btn" id="start-btn">Play Game</button>
    </div>

    <div class="screen">
      <h1>What's your "favorite" insect?</h1>
      <ul class="insects-list">
        <li>
          <button class="choose-insect-btn">
            <p>Fly</p>
            <img src="https://pngimg.com/uploads/fly/fly_PNG3945.png" alt="" />
          </button>
        </li>
        <li>
          <button class="choose-insect-btn">
            <p>Mosquito</p>
            <img
              src="https://pngimg.com/uploads/mosquito/mosquito_PNG18149.png"
              alt=""
            />
          </button>
        </li>
        <li>
          <button class="choose-insect-btn">
            <p>Bee</p>
            <img src="https://pngimg.com/uploads/bee/bee_PNG6.png" alt="" />
          </button>
        </li>
      </ul>
    </div>
    <div class="screen game-container" id="game-container">
      <h3 id="time" class="time">Time:00:00</h3>
      <h3 id="score" class="score">Score: 0</h3>
      <h5 id="message" class="message">
        Are you annoyed yet?
        <br />
        You are playing an impossible game!!
      </h5>
    </div>
    <script>
      const screens = document.querySelectorAll(".screen");
      const chooseInsectBtn = document.querySelectorAll(".choose-insect-btn");
      const startBtn = document.getElementById("start-btn");
      const timeEl = document.getElementById("time");
      const scoreEl = document.getElementById("score");
      const gameContainer = document.querySelector(".game-container");
      let selectedInsect = {};

      let seconds = 0;
      let score = 0;

      startBtn.addEventListener("click", () => {
        screens[0].classList.add("up");
      });
      chooseInsectBtn.forEach((btn) => {
        btn.addEventListener("click", () => {
          const img = btn.querySelector("img");
          const src = img.getAttribute("src");
          selectedInsect = { src };
          screens[1].classList.add("up");
          setTimeout(createInsect, 1000);
          startTimer();
        });
      });

      function createInsect() {
        const insect = document.createElement("div");
        insect.classList.add("insect");
        const { x, y } = getRandomLocation();
        insect.style.top = `${y}px`;
        insect.style.left = `${x}px`;
        insect.innerHTML = `<img src="${
          selectedInsect.src
        }" alt="insect" style="transform: rotate(${
          Math.random() * 360
        }deg)" />`;
        insect.addEventListener("click", catchInsect);
        gameContainer.appendChild(insect);
      }

      function getRandomLocation() {
        const width = window.innerWidth;
        const height = window.innerHeight;
        const x = Math.random() * (width - 200) + 100;
        const y = Math.random() * (height - 200) + 100;
        return { x, y };
      }

      function catchInsect() {
        increaseScore();
        this.classList.add("caught");
        setTimeout(() => this.remove(), 2000);
        addInsects();
      }

      function increaseScore() {
        score++;
        if (score > 60) {
          message.classList.add("visible");
        }
        scoreEl.innerHTML = `Score: ${score}`;
      }

      function increaseTime() {
        let m = Math.floor(seconds / 60);
        let s = seconds % 60;
        m = m < 10 ? `0${m}` : m;
        s = s < 10 ? `0${s}` : s;
        timeEl.innerHTML = `Time: ${m}:${s}`;
        seconds++;
      }

      function addInsects() {
        setTimeout(createInsect, 1000);
        setTimeout(createInsect, 1500);
      }

      function startTimer() {
        setInterval(increaseTime, 1000);
      }
    </script>
  </body>
</html>
